<!doctype html>

<html lang="en">

  <head>

    <!-- Required meta tags -->

    <meta charset="utf-8">
    <meta name="description"  content="OCR- Tigriniya an optical character recognition for Tigriniya characters"></head>
    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static',filename='images/logo-icon.png') }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



    <!-- Bootstrap CSS -->

    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"> -->

    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/bootstrap.min.css') }}">

    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/style.css') }}">

    <title>OCR-Tigrinya</title>

  </head>

  <body class="bg-light">

    <div class="container">

      <div class="row" >

        <div class="col-lg-2 left" >

       

        </div>

        <div class="col-lg-8">

          <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark" >

            <a class="navbar-brand" href="#" style="margin-right: 20%;">Free Online Tigrinya OCR</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">

              <span class="navbar-toggler-icon"></span>

            </button>

            <div class="collapse navbar-collapse" id="navbarNavAltMarkup" >

              <div class="navbar-nav" >

                <a class="nav-item nav-link active" href="/">Home <span class="sr-only">(current)</span></a>

                <a class="nav-item nav-link" href="#">News</a>

                <a class="nav-item nav-link" href="/contact">Contact</a>

                <a class="nav-item nav-link" href="#">About</a>

              </div>

            </div>

          </nav>

        </div>

        <div class="col-lg-2 right"></div>

      </div>

      <div class="row main" style="min-height: 650px;" >

        <div class="col-lg-2 left" style="margin-top: 10%; ">

          <ul class="list-group" style="background-color: rgb(87, 87, 95);">

            <li class="list-group-item active">Similar Links</li>

            <li class="list-group-item "><a href="https://www.myfreeocr.com/tigrinya-ocr">TIGRINYA OCR</a></li>

            <li class="list-group-item"><a href="http://www.i2ocr.com/free-online-tigrinya-ocr">Free Tigrinya OCR</a></li>

            

          </ul>



        </div>

        

        <div class=" col-lg-8" >

  

          <div class="mb-3 mt-3">

            <div class="intro" style="margin-top: 15%;">

              <div style="position: relative;">



                <h2 style="display: inline;">OCR-Tigrinya </h2>

                 <a class="nav-item nav-link active" style="display: inline; position: absolute; right: 0; color: blue;" href="/contact">Contact Us</a>

              </div>

              <p style="text-align: justify; color: rgb(196, 191, 191);">



                OCR- Tigrinya is an optical character recognition that extracts Tigrinya character from

                 an image.  You can upload an image file(jpeg, jpg, png, gif), then the application will extract 

                 Tigrinya characters from the image using google deep neural network algorithm and

                 produce a pdf, word, or text file for which you can download it. Please send us the

                 feedback according to the accuracy  (how much exactly the application extracts characters)

                 and the efficiency of the application.



               <b>Note:</b> All the files you uploaded will be deleted after 5 min.

              </p>

            </div>

  

            <h2 class="mb-3 logo" style="font-size: 17px; margin-top:5%; color: white;">Please Upload File ("jpeg","jpg", "png", "gif")</h2>

  

            <div class="form-group mb-3">

              <div class="custom-file">

                <input type="file" class="custom-file-input" name="file_input" id="file_input" oninput="input_filename();">

                <label id="file_input_label" class="custom-file-label" for="image">Select file</label>

              </div>

            </div>

  

            <button onclick="upload('{{ request.url }}');" id="upload_btn" class="btn btn-primary">Upload</button>

  

            <button class="btn btn-primary d-none" id="loading_btn" type="button" disabled>

              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>

              Uploading...

            </button>

  

            <button type="button" id="cancel_btn" class="btn btn-secondary d-none">Cancel upload</button>

  

          </div>

  

          <div id="progress_wrapper" class="d-none" style="color: white;">

            <label id="progress_status"></label>

            <div class="progress mb-3">

              <div id="progress" class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>

            </div>

          </div>

          {% if msg1 %}

          <h5 style="color: white;">Please Try Again</h5>

          {%endif%}

          <div id="alert_wrapper"></div>

          <div class="file-res">



            <div id="tig-msg" style="color: white; font-weight: 400; text-decoration: underline; margin-bottom: 15px;"></div>

          <div><a id="tig-pdf-img" href=""><p id="tig-pdf" style="color: rgb(136, 131, 131); margin-bottom: 10px; text-decoration: underline rgb(226, 71, 9);">

              

          </p></a></div>  

          <div><a id="tig-doc-img"  href=""><p id="tig-doc" style="color: rgb(136, 131, 131);  margin-bottom: 10px; text-decoration: underline rgb(226, 71, 9);">

              

          </p></a></div> 

          <div><a id="tig-txt-img"  href=""><p id="tig-txt" style="color: rgb(136, 131, 131);  margin-bottom: 10px; text-decoration: underline rgb(226, 71, 9);">

              

          </p></a></div> 

          </div>

  

        </div>

        <div class="col-lg-2 right"></div>

      </div>





      <div class="row sim-links">







        <div class="col-lg-2 left"></div>

        <div class="col-lg-8">





          <ul class="list-group">

            <li class="list-group-item active">Similar Links</li>

            <li class="list-group-item "><a href="https://www.myfreeocr.com/tigrinya-ocr">TIGRINYA OCR</a></li>

            <li class="list-group-item"><a href="http://www.i2ocr.com/free-online-tigrinya-ocr">Free Tigrinya OCR</a></li>

            

          </ul>

        </div>

        <div class="col-lg-2 right"></div>

      </div>





      <div class="row">

        <div class="col-lg-2 left"></div>

        <div class="col-lg-8">

          <div class="row footer">

            <div class="col-lg-4 footer-left">

              <ul>

                

                <li><a  href="/">Home </a></li>

                <li><a  href="#">News</a></li>

                <li><a  href="/contact">Contact</a></li>

                <li><a  href="#">About</a></li>

              

              </ul>

          

            </div>

            <div class="col-lg-4 footer-center">

              <h3>Optical Character Recognition for Tigrinya Language</h3>

              <div>

               <span>Email : tta2yta@gmail.com</span>

                <span>Tel : +79777562351</span>

              </div>

          

            </div>

            <div class="col-lg-4 footer-right">

              <a href="https://instagram.com"><img id="img-fac" width="10%" style="margin-top: 20px; margin-right: 10px;" src="{{ url_for('static',filename='images/ig.png') }}"></a> 

              <a  href="https://facebook.com"> <img id="img-fac" width="10%" style="margin-top: 20px; margin-right: 10px;"  src="{{ url_for('static',filename='images/fb.png') }}"></a>

              <a href="https://gmail.com"><img id="img-fac" width="10%" style="margin-top: 20px; margin-right: 10px;"   src="{{ url_for('static',filename='images/twitch.png') }}"></a> 

              <a href="https://twitter.com"><img id="img-fac" width="10%" style="margin-top: 20px; margin-right: 10px;"   src="{{ url_for('static',filename='images/tw.png') }}"></a> 

              

            </div>

            <div class="footer-bottom"><hr></div>

            

          </div>

        </div>

        <div class="col-lg-2 right"></div>

       

    </div>

  

<script>

  // Get a reference to the progress bar, wrapper & status label

var progress = document.getElementById("progress");

var progress_wrapper = document.getElementById("progress_wrapper");

var progress_status = document.getElementById("progress_status");



// Get a reference to the 3 buttons

var upload_btn = document.getElementById("upload_btn");

var loading_btn = document.getElementById("loading_btn");

var cancel_btn = document.getElementById("cancel_btn");



// Get a reference to the alert wrapper

var alert_wrapper = document.getElementById("alert_wrapper");

var tigpdf = document.getElementById("tig-pdf");

var tigdoc = document.getElementById("tig-doc");

var tigtxt = document.getElementById("tig-txt");

var tigmsg = document.getElementById("tig-msg");



// Get a reference to the file input element & input label 

var input = document.getElementById("file_input");

var file_input_label = document.getElementById("file_input_label");



// Function to show alerts

function show_alert(message, alert) {



alert_wrapper.innerHTML = `

  <div id="alert" class="alert alert-${alert} alert-dismissible fade show" role="alert">

    <span>${message}</span>

    <button type="button" class="close" data-dismiss="alert" aria-label="Close">

      <span aria-hidden="true">&times;</span>

    </button>

  </div>

`;



}





// Function to update the input placeholder

function input_filename() {

     var allowedExtensions =  

                    /(\.jpg|\.jpeg|\.png|\.gif)$/i; 

     var filePath = input.value; 

              

    if (!allowedExtensions.exec(filePath)) { 

        alert('Invalid File Type, Please Enter a Valid file format .jpg, .jpeg, .png, .gif'); 

        input.value = ''; 

        return false; 

    }



file_input_label.innerText = input.files[0].name;

tigmsg.innerHTML="";

tigpdf.innerHTML="";

tigdoc.innerHTML="";

tigtxt.innerHTML="";

alert_wrapper.innerHTML="";



}

// Function to upload file

function upload(url) {

 



// Reject if the file input is empty & throw alert

if (!input.value) {



  show_alert("No file selected", "warning")



  return;



}

// Create a new FormData instance

var data = new FormData();



// Create a XMLHTTPRequest instance

var request = new XMLHttpRequest();



// Set the response type

request.responseType = "json";



// Clear any existing alerts

alert_wrapper.innerHTML = "";



// Disable the input during upload

input.disabled = true;



// Hide the upload button

upload_btn.classList.add("d-none");



// Show the loading button

loading_btn.classList.remove("d-none");



// Show the cancel button

cancel_btn.classList.remove("d-none");



// Show the progress bar

progress_wrapper.classList.remove("d-none");



// Get a reference to the file

var file = input.files[0];



// Get a reference to the filename

var filename = file.name;



// Get a reference to the filesize & set a cookie

var filesize = file.size;

//document.cookie = `filesize=${filesize}`;



// Append the file to the FormData instance

data.append("file", file);



  // request progress handler

  request.upload.addEventListener("progress", function (e) {



// Get the loaded amount and total filesize (bytes)

var loaded = e.loaded;

var total = e.total



// Calculate percent uploaded

var percent_complete = (loaded / total) * 100;



// Update the progress text and progress bar

progress.setAttribute("style", `width: ${Math.floor(percent_complete)}%`);

progress_status.innerText = `${Math.floor(percent_complete)}% uploaded`;



if(percent_complete == 100){

  progress_status.innerText="Server Processing";
  loading_btn.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>Server Processing';

}







})



// request load handler (transfer complete)

request.addEventListener("load", function (e) {



if (request.status == 200) {

  if(`${request.response.msg}`== "format_error" || `${request.response.msgexe}`== "txt-err"){

    tigmsg.innerHTML="File Format not Suppoted or Please Try Again";
    progress_status.innerText="";

    // Hide the upload button

    upload_btn.classList.remove("d-none");



    // Show the loading button

    loading_btn.classList.add("d-none");



    // Show the cancel button

    cancel_btn.classList.add("d-none");

    progress_wrapper.classList.add("d-none");
    alert("File Format not Suppoted or Please Try Again")
    document.getElementById('file_input').value = "";
    window.location.reload();

    return;

  }

  

  show_alert(`${request.response.message}`, "success");

  tigmsg.innerHTML="Please Download Pdf, doc or text file from below link";

  tigpdf.innerHTML=`${request.response.name}`;

  tigdoc.innerHTML=`${request.response.namedoc}`;

  tigtxt.innerHTML=`${request.response.nametxt}`;





}

else {



  show_alert(`Error uploading file`, "danger");
  input.value = ''; 



}



reset();



});



  // request error handler

  request.addEventListener("error", function (e) {



reset();



show_alert(`Error uploading file`, "warning");
input.value = ''; 



});



// request abort handler

request.addEventListener("abort", function (e) {



reset();



show_alert(`Upload cancelled`, "primary");
input.value = ''; 



});



// Open and send the request

request.open("post", url);

request.send(data);



cancel_btn.addEventListener("click", function () {



request.abort();



})



function reset() {



// Clear the input

input.value = null;



// Hide the cancel button

cancel_btn.classList.add("d-none");



// Reset the input element

input.disabled = false;



// Show the upload button

upload_btn.classList.remove("d-none");



// Hide the loading button

loading_btn.classList.add("d-none");



// Hide the progress bar

progress_wrapper.classList.add("d-none");



// Reset the progress bar state

progress.setAttribute("style", `width: 0%`);



// Reset the input placeholder

file_input_label.innerText = "Select file";



}



}



tigpdf.addEventListener("click", function () {

  document.getElementById("tig-pdf-img").href = "/pdf1/" + tigpdf.innerHTML;

  $.ajax({

	type : "POST",

	url : '/pdf1',

	dataType: "json",

	data: "kkk",

	contentType: 'application/json;charset=UTF-8',

	success: function (data) {

		console.log(data);

		}

	});

})

tigdoc.addEventListener("click", function () {

  document.getElementById("tig-doc-img").href = "/pdf1/" +  tigdoc.innerHTML;



});

tigtxt.addEventListener("click", function () {

  document.getElementById("tig-txt-img").href = "/pdf1/" +  tigtxt.innerHTML;

});





</script>





    <!-- Optional JavaScript -->

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script> -->

    <script src="{{ url_for('static',filename='js/jquery-3.5.1.slim.min.js') }}"></script>

    <script src="{{ url_for('static',filename='js/popper.min.js') }}"></script>

    <script src="{{ url_for('static',filename='js/bootstrap.min.js') }}"></script>

  </body>

</html>